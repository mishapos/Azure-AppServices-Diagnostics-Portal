<div class="timepicker" id="timePicker">
  <!-- <div class="time-picker-container" *ngIf="globals.openTimePicker" (keydown.escape)="escapeHandler($event)" (keydown.Tab)="tabHandler($event)"> -->
  <fab-callout [hidden]="!openTimePickerCallout" [setInitialFocus]="true" [target]="target"
    (onDismiss)="cancelTimeRange()" [isBeakVisible]="false">
    <div  *ngIf="openTimePickerCallout" style="width: 320px;">
      <div class="callout-padding">
        <fab-choice-group [options]="choiceGroupOptions" [defaultSelectedKey]="defaultSelectedKey">
        </fab-choice-group>
        <div *ngIf="showTimePicker" class="row">
          <div style="display: flex;" class="ml-3 mt-3">
            <div class="mr-2 date-picker-label">Start </div>
            <fab-date-picker [minDate]="minDate" [maxDate]="maxDate"
              placeholder="Select a date..." ariaLabel="Select start date" allowTextInput="true"
              showMonthPickerAsOverlay="true" (onSelectDate)="onSelectStartDateHandler($event)" [formatDate]="formatDate"
              [value]="startDate" [parseDateFromString]="parseDateFromString" [contentStyle]="'width:130px;'">
            </fab-date-picker>
            <fab-masked-text-field [contentClass]="'col-md-4'" maxLength="6" [(value)]="startClock"
              [iconProps]="{iconName: 'Clock'}" [mask]="'99:99'" [maskChar]="'-'" [validateOnFocusOut]="true"
              [getErrorMessage]="getErrorMessageOnTextField" [ariaLabel]="'startTime'" [styles]="maskTextFieldStyles">
            </fab-masked-text-field>
            <div class="date-picker-label">(UTC)</div>
          </div>

          <div style="display: flex;" class="ml-3 mt-3">
            <div  class="mr-2 date-picker-label">End&nbsp;</div>
            <fab-date-picker [minDate]="minDate" [maxDate]="maxDate"
              placeholder="Select a date..." ariaLabel="Select end date" allowTextInput="true"
              showMonthPickerAsOverlay="true" (onSelectDate)="onSelectEndDateHandler($event)" [formatDate]="formatDate"
              [value]="endDate" [parseDateFromString]="parseDateFromString" [contentStyle]="'width:130px'">
            </fab-date-picker>
            <fab-masked-text-field [contentClass]="'col-md-4'" maxLength="6" [(value)]="endClock"
              [iconProps]="{iconName: 'Clock'}" [mask]="'99:99'" [maskChar]="'-'" [validateOnFocusOut]="true"
              [getErrorMessage]="getErrorMessageOnTextField" [ariaLabel]="'endTime'" [styles]="maskTextFieldStyles">
            </fab-masked-text-field>
            <div class="date-picker-label">(UTC)</div>
          </div>
        </div>
        <div *ngIf="timeDiffError != ''" style="color:red;">{{timeDiffError}}</div>
      </div>
      <div style="border-top: 1px solid gray;" class="pt-3 pb-3 callout-padding">
        <div class="mr-4">
          <fab-primary-button (onClick)="applyTimeRange()" [contentClass]="'mr-3'">Apply
          </fab-primary-button>
          <fab-default-button (onClick)="cancelTimeRange()">Cancel</fab-default-button>
        </div>
      </div>

    </div>
  </fab-callout>
  <!-- </div> -->

  <fab-calendar *ngIf="showCalendar"
    [contentStyle]="'position: absolute;top: 20px;right: 0px ;background: #FFFFFF; padding: 8px; color: var(--infoItemValue); font-size: 14px;'">
    <fab-calendar-strings [months]="dayPickerString.months" [shortMonths]="dayPickerString.shortMonths"
      [days]="dayPickerString.days" [shortDays]="dayPickerString.shortDays" [goToToday]="dayPickerString.goToToday"
      weekNumberFormatString="dayPickerString.weekNumberFormatString"></fab-calendar-strings>
  </fab-calendar>
</div>
